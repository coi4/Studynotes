数据库系统概论

## 1、绪论

1.1、四个基本概念

- 数据：描述事物的符号记录
- 数据库：数据库数据具有永久存储、有组织和可共享的三个基本特点
  - 数据库是长期存在计算机内、有组织、可共享的大量数据的集合。数据库中的数据按一定的数据模型组织，描述和储存，具有较小的冗余度、较高的数据独立性和易扩展性，并可为各种用户共享。
- 数据库管理系统：是位于用户和操作系统之间的一层数据管理软件；和操作系统一样是计算机的基础软件——数据由数据库管理系统统一管理和控制
  - 主要功能：
    1. 数据定义功能
    2. 数据组织、存储和管理
    3. 数据操纵功能
    4. 数据库的事务管理和运行管理
    5. 数据库的建立和维护功能
    6. 其他功能（通信功能，数据转换功能，互访和互操作功能等）
- 数据库系统：由数据库、数据库管理系统（及其应用开发工具）、应用程序和数据库管理员（DBA）组成的存储、管理、处理和维护数据的系统![image-20231115103837746](https://gitee.com/coi4/test/raw/master/img/image-20231115103837746.png)

发展阶段：人工管理系统——文件系统——数据库管理系统（以**加工**数据的程序为中心转向围绕**共享**的数据库为中心的新阶段）

> - 独立性：
>   - 物理独立性：用户的应用程序与数据库中数据的物理存储是相互独立的
>   - 逻辑独立性：用户的应用程序与数据库的逻辑结构是相互独立的

数据模型：人们首先将现实世界抽象为信息世界，然后将信息世界转换为机器世界

- 概念模型：也称为信息模型，按用户观点来对数据和信息建模，主要用于数据库设计

  > - 实体：客观存在并可相互区别的事物。人
  > - 属性：实体所具有的某一特性。人的鼻子嘴巴
  > - 码：唯一标识实体的属性。学号
  > - 实体型：用实体名及其属性集合来抽象和刻画同类实体。含有鼻子和嘴巴的人
  > - 实体集：同一类型实体的集合。学习
  > - 联系：实体之间的联系通常是指不同实体集之间的联系。实体之间的联系有一对一、一对多和多对多等多种联系；实体内部的联系通常是指实体名属性之间的联系
  > - 概念模型的一种表示方法：实体-联系方法。用E-R图来描述现实世界的概念模型，E-R方法也称为E-R模型（分为实体、属性、关系三个核心部分，实体长方形，属性椭圆形，关系菱形）![image-20231115110104625](https://gitee.com/coi4/test/raw/master/img/image-20231115110104625.png)

- 逻辑模型和物理模型

  - 逻辑模型：按计算机系统的观点对数据建模，主要用于数据库管理系统的实现；包括层次模型、网状模型、关系模型
  - 物理模型：对数据最底层的抽象，描述数据在系统内部的表示方法和存取方法，或在磁盘或磁带上的存储方式和存取方法；面向计算机系统

- 常用的数据模型：层次模型，网状模型，关系模型，面向对象数据模型，对象关系数据模型，半结构化数据模型

  - 层次模型：有且只有一个结点没有双亲结点，这个结点称为根结点；根以外的其他结点只有一个双亲结点![image-20231115111407022](https://gitee.com/coi4/test/raw/master/img/image-20231115111407022.png)

  - 网状模型：允许一个以上的结点无双亲；一个结点可以有多于一个双亲![image-20231115111541175](https://gitee.com/coi4/test/raw/master/img/image-20231115111541175.png)

  - 关系模型：数据表![image-20231115111931586](https://gitee.com/coi4/test/raw/master/img/image-20231115111931586.png)

    ![image-20231115114934569](https://gitee.com/coi4/test/raw/master/img/image-20231115114934569.png)

    > - 关系：一个关系对应通常说的一张表
    > - 元组：表中的一行
    > - 属性：表中的一列
    > - 码：也称码键，表中的某个属性组
    > - 域：是一组具有相同数据模型的值的集合
    > - 分量：元组的一个属性

数据库系统的结构：

![image-20231115114313531](https://gitee.com/coi4/test/raw/master/img/image-20231115114313531.png)

- 模式：模式数据库中全体数据的逻辑结构和特征的描述，仅仅涉及型的描述，不涉及具体值。某一个具体值称为模式的一个实例；模式相对稳定，实例相对变动
  - 三级模式结构：外模式+模式+内模式
    - 外模式：也称子模式或用户模式，是数据库用户（包括应用程序员和最终用户）能够看见和使用的局部数据的逻辑结构和特征的描述，是数据库用户的数据视图，是与某一应用有关的数据的逻辑表示
    - 模式：也称逻辑模式，是数据库中全体数据的逻辑结构和特征的描述，是所有用户的公共数据视图
    - 内模式：也称存储模式，一个数据库只有一个内模式。是数据物理结构和存储方式的描述，是数据在数据库内部的组织方式
- 二级映像：
  - 外模式/模式映像：模式改变时，由数据管理人员对各个外模式/模式映像作相应改变，外模式保持不变（应用程序不必修改），保证数据与程序的物理独立性。
  - 模式/内模式映像：存储结构改变，人员做出相应改变，使模式保持不变（应用程序也不用改变），保证物理独立性
  - 数据和程序之间的独立性使数据的定义和描述可以从应用程序中分离出去，并减少应用程序的维护和修改（数据管理系统管理数据）

数据库系统的组成：

- 硬件平台及数据库
- 软件
- 人员
- 数据库管理人员职责：决定数据库中的信息内容和结构、数据库的存储结构和存取策略、定义数据的安全性要求和完整性约束条件、监控数据库的使用和运行、数据库的改进和重组、重构

## 2、关系型数据库

关系操作：插入、查询、删除、修改

- 查询：**选择**、**投影**、连接、除法、**并**、**差**、交、**笛卡尔积**

关系语言分类：

- 关系代数语言（重点）：

  - 关系代数：抽象的查询语言，用对关系的运算来表达查询

  - 三大要素：运算对象（关系）、运算符和运算结果（关系）![image-20231115115737617](https://gitee.com/coi4/test/raw/master/img/image-20231115115737617.png)

  - 5种基本运算：并，差，笛卡尔乘积，选择（不等于<>)，投影(只想看XX）及交，并，差![image-20231115115948342](https://gitee.com/coi4/test/raw/master/img/image-20231115115948342.png)

    ![image-20231115120112730](https://gitee.com/coi4/test/raw/master/img/image-20231115120112730.png)

    ![image-20231115122040703](https://gitee.com/coi4/test/raw/master/img/image-20231115122040703.png)

    ![image-20231115122418710](https://gitee.com/coi4/test/raw/master/img/image-20231115122418710.png)

    Cno：课程号，Sno：学号，SC：有学号，课程号和成绩的表

- 关系演算语言（不重要）

- SQL语言（重）

## 3、SQL语言

### 3.1、上

### 3.2、中

### 3.3、下

## 4、数据库安全性

## 5、数据库完整性

## 6、关系数据理论

## 7、数据库设计

## 8、数据库编程

## 9、关系查询和查询优化

## 10、数据库恢复技术

## 11、并发控制